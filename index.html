<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <link rel="manifest" href="manifest.json">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>US Citizenship Civic/Reading/Listening</title>
    <link rel="stylesheet" href="style.css">
    <style>
        .version-text {
            margin-top: 15px;
            color: #8E8E93;
            font-size: 12px;
        }
        .contact-text {
            font-weight: bold;
            margin-bottom: 10px;
        }
    </style>
</head>

<body>
    <div id="home-screen">
        <div class="header">
            <h1>US Citizenship</h1>
            <h2>Civic/Reading/Listening</h2>
        </div>
         <p class="contact-text">選擇一個模塊進入模擬面試.</p>
        <div class="grid-menu">
            <div class="menu-card" onclick="startSession('personal')">
                <div class="menu-icon">📋</div>
                <div class="menu-title">128題<br>civic test</div>
                <div class="menu-sub"> </div>
            </div>

            <div class="menu-card" onclick="startSession('part9')">
                <div class="menu-icon">📖</div>
                <div class="menu-title">聽寫<br>Writing</div>
                <div class="menu-sub"> </div>
            </div>

            <div class="menu-card" onclick="showGlossaryMenu()">
                <div class="menu-icon">⚖️</div>
                <div class="menu-title">閱讀<br>Reading</div>
                <div class="menu-sub"> </div>
            </div>

            <div class="menu-card" onclick="showBookmarks()">
                <div class="menu-icon">⭐️</div>
                <div class="menu-title">收藏<br>Bookmarks</div>
                <div class="menu-sub"> </div>
            </div>   
        </div>
    </p>

   <p class="contact-text">測試題【含錯題統計】</p>
         <div class="grid-menu">

            <div class="menu-card yellow" onclick="startQuizMode('personal')">
                <div class="menu-icon">🖊️</div>
                <div class="menu-title">128題測試</div>
                
            </div>

             <div class="menu-card blue" onclick="startQuizMode('part9')">
                <div class="menu-icon">🖊️</div>
                <div class="menu-title">聽寫測試</div>
                <div class="menu-sub"> </div>
            </div>

        </div>
        
        <div class="contact-section" style="margin-top: 30px; padding-bottom: 30px;">
            
            <p class="contact-text">💡 覺得好用？歡迎關注與支持</p>
            <button class="xiaohongshu-btn" onclick="goToXiaohongshu()" style="background-color: #ff2442; color: white; border: none; padding: 12px 20px; border-radius: 25px; font-weight: bold; cursor: pointer;">
                前往作者小紅書 (獲取更新/反饋)
            </button>
            <div style="margin-top: 10px; line-height: 1.8;">
                <p style="margin: 0; color: #8E8E93; font-size: 13px; letter-spacing: 1px;">* 免責聲明 *</p>
                <p style="margin: 0px 0 0 0; color: #8E8E93; font-size: 12px;">本工具僅供學習交流使用，非官方面試軟體，不對面試結果負責。</p>
            </div>
    <p class="version-text" style="margin-top: 10px; color: #C7C7CC; font-size: 12px;">N-400 助考工具 V1.0 | Made for Mom</p>
</div>
    </div>

<div id="glossary-menu-screen" class="hidden">
    <p class="contact-text">點擊下方句子跟讀.</p>


    <div id="reading-list-container" class="list-container" style="padding: 10px 16px;"></div>

    <div style="padding: 20px;">
        <button class="btn rect-btn" onclick="exitGlossaryMenu()">返回主頁</button>
    </div>
</div>



    <div id="practice-screen" class="hidden">
        <div class="progress-indicator">
            <span id="q-current">1</span> / <span id="q-total">30</span>
        </div>
        <div class="audio-wave-container" id="audio-anim">
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
            <div class="wave-bar"></div>
        </div>
        <div class="officer-avatar">👮‍♂️</div>
        <div class="question-box" id="q-box" onclick="toggleQuestionCard()">
            <div id="q-hidden" class="click-hint">
                <div style="font-size: 40px;">👁️</div>
                <span>點擊查看問題</span>
            </div>
            <div id="q-text" class="question-content hidden"></div>
        </div>

        <div class="controls-area">
            <button class="btn round-btn" onclick="replayAudio()">🔊</button>
            <button class="btn main-action-btn colorful" id="main-btn" onclick="handleMainAction()">
                開始<br>面試
            </button>
            <button class="btn round-btn" id="btn-star" onclick="toggleBookmark()">☆</button>
        </div>

        <div class="bottom-actions">
            <button class="btn rect-btn" onclick="exitPractice()">🚪 退出</button>
            <button class="btn rect-btn" onclick="restartSession()">🔄 重來</button>
        </div>
    </div>

    <div id="bookmark-screen" class="hidden">
        <div class="nav-bar">
            <div class="nav-back" onclick="exitBookmarks()">←</div>
            <div class="nav-title">收藏夾</div>
        </div>
        <div class="tabs">
            <div class="tab active" id="tab-personal" onclick="switchTab('personal')">128題</div>
            <div class="tab" id="tab-part9" onclick="switchTab('part9')">聽寫</div>
            <div class="tab" id="tab-glossary" onclick="switchTab('glossary')">閱讀</div>
        </div>
        <div class="list-container" id="bookmark-list"></div>
    </div>

<div id="quiz-screen" class="hidden">
    <div class="quiz-header">
        <div class="header-top">
            <span id="quiz-q-title">第 1 題</span>
            <span id="quiz-accuracy">正確率: 100% (0/0)</span>
        </div>
        <div id="quiz-dots-container" class="dots-container"></div>
    </div>

    <div class="officer-avatar" onclick="replayQuizAudio()" style="cursor:pointer">👮‍♂️</div>
    <div style="color: #8E8E93; font-size: 12px; margin-bottom: 10px;">(點擊考官可重聽)</div>

    <div class="question-box" id="quiz-q-box" onclick="toggleQuizCard()">
        <div id="quiz-q-hidden" class="click-hint">
            <span>點擊查看答案</span>
        </div>
        <div id="quiz-q-text" class="question-content hidden"></div>
    </div>

    <div class="controls-area quiz-controls">
        <div id="quiz-judge-group" class="judge-group">
            <p style="width: 100%; text-align: center; color: #8E8E93; margin-top: -10px; margin-bottom: 8px;">你答對了嗎？</p>
            <div style="display: flex; width: 100%; gap: 15px;">
                <button class="btn btn-judge btn-correct" onclick="handleQuizJudge(true)">對</button>
                <button class="btn btn-judge btn-wrong" onclick="handleQuizJudge(false)">錯</button>
            </div>
        </div>
        <button class="btn quiz-main-btn" id="quiz-main-btn" onclick="handleQuizMainAction()">
            開始測試
        </button>
    </div>

    <div class="bottom-actions">
            <button class="btn rect-btn" onclick="exitQuizMode()">🚪 退出</button>
            <button class="btn rect-btn" onclick="restartQuizSession()">🔄 重來</button>
        </div>
</div>
    
    <script src="app.js"></script>
    <script>
        // 如果你的 app.js 裡還沒有定義 goToXiaohongshu
        function goToXiaohongshu() {
            window.open('https://www.xiaohongshu.com/user/profile/631f3bfd00000000230254b1', '_blank');
        }
    </script>
</body>
</html>
